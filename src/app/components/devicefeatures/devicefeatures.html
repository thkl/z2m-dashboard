<div class="wrapper" style="display: flex;flex-direction: column;">
    <div class="container header">
        <div class="font-bold text-white text-center mt-5">{{device()?.friendly_name}} {{"BINDINGS" | translate}}</div>
    </div>
    <div class="container">
        @for (item of deviceExposure(); track $index) {
        @if(item.property.hidden ===false) {
        <div class="device_row">

            <div class="label flex flex-col">
                <span>{{item.property.label || item.property.name}}
                    @if(item.property.description){<InfoOverlayComponent [message]="item.property.description">
                    </InfoOverlayComponent>}</span>
            </div>
            @if(item.property.access===1 || item.property.access === 5) {
            <span class="value">{{item.value}} {{item.property.unit}}</span>
            }


            @if(item.property.access===3 || item.property.access === 7){
            @switch (item.property.type) {
            @case ("binary") {
            <OptionComponent [active]="true" [item]="{label:item.property.value_on ?? 'ON',isActive:item.value==='ON'}"
                (clicked)="switch(item.property,$event)"></OptionComponent>
            }
            @case ("enum") {
            <RadiolistComponent [items]="radioItems(item.property,item.value)" [active]="true"
                (selected)="enumClick(item.property,$event)"></RadiolistComponent>

            }
            @case ("numeric") {
            <span>{{item.value}}</span>
            }
            @case ("composite") {
             @switch (item.property.property) {
                @case ("color") {
                    <ColorSelectorComponent></ColorSelectorComponent>
                }
             }
            }
            }
            }
        </div>
        }
        }
    </div>
    <div class="pl-2 pr-2 flex flex-col grow">
        <ExpansionPanelComponent title="Raw Data" style="flex-grow: inherit;">
            <textarea class="scrollbar w-full bg-transparent grow">{{deviceExposure() | json : "" : 2}}</textarea>
        </ExpansionPanelComponent>
    </div>
</div>